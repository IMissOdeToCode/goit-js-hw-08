{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,QAC7BC,MAAOF,SAASC,cAAc,SAC9BE,KAAMH,SAASC,cAAc,YAC7BG,OAAQJ,SAASC,cAAc,WAIjC,IAAII,EAAW,CACbC,MAAO,GACPC,QAAS,IAGPC,EAmCJ,WACE,IACE,OAAOC,KAAKC,MAAMC,aAAaC,QAAQ,yBAA2BP,C,CAClE,MAAOQ,GAEP,OADAC,QAAQC,IAAI,mBACLV,C,EAxCGW,GA4Cd,IAAkBC,IA3CTT,EA4CPV,EAAKI,MAAMgB,MAAQD,EAAQX,MAC3BR,EAAKK,KAAKe,MAAQD,EAAQV,QA3C5BT,EAAKC,KAAKoB,iBAAiB,UAAUC,IACnCA,EAAMC,gBAAgB,IAGxBvB,EAAKC,KAAKoB,iBAAiB,QAASvB,EAAA0B,UAcpC,SAAkBF,GAChB,OAAQA,EAAMG,OAAOC,MACnB,IAAK,QACHhB,EAAQF,MAAQc,EAAMG,OAAOL,MAC7B,MACF,IAAK,UACHV,EAAQD,QAAUa,EAAMG,OAAOL,MAMnCP,aAAac,QAAQ,sBAAuBhB,KAAKiB,UAAUlB,G,GA1BC,MAE9DV,EAAKM,OAAOe,iBAAiB,SAAS,KACX,KAArBrB,EAAKI,MAAMgB,OAAoC,KAApBpB,EAAKK,KAAKe,OAIzCJ,QAAQC,IAAI,oBAAqBP,GACjCV,EAAKC,KAAK4B,QACVnB,EAAQF,MAAQ,GAChBE,EAAQD,QAAU,GAClBI,aAAaiB,WAAW,wBAPtBd,QAAQC,IAAI,4BAOgC","sources":["src/js/03-feedback.js"],"sourcesContent":["const lodash = require('lodash');\n\nconst refs = {\n  form: document.querySelector('form'),\n  input: document.querySelector('input'),\n  text: document.querySelector('textarea'),\n  button: document.querySelector('button'),\n};\n// console.log(refs);\n\nlet template = {\n  email: '',\n  massage: '',\n};\n\nlet payload = fetchData();\nloadData(payload);\n\nrefs.form.addEventListener('submit', event => {\n  event.preventDefault();\n});\n\nrefs.form.addEventListener('input', lodash.throttle(pushData, 500));\n\nrefs.button.addEventListener('click', () => {\n  if (refs.input.value === '' || refs.text.value === '') {\n    console.log('all fields must be filled');\n    return;\n  }\n  console.log(`you send payload:`, payload);\n  refs.form.reset();\n  payload.email = '';\n  payload.massage = '';\n  localStorage.removeItem('feedback-form-state');\n});\n\nfunction pushData(event) {\n  switch (event.target.name) {\n    case 'email':\n      payload.email = event.target.value;\n      break;\n    case 'message':\n      payload.massage = event.target.value;\n      break;\n\n    default:\n      break;\n  }\n  localStorage.setItem('feedback-form-state', JSON.stringify(payload));\n}\nfunction fetchData() {\n  try {\n    return JSON.parse(localStorage.getItem('feedback-form-state')) || template;\n  } catch (error) {\n    console.log(`can't load data`);\n    return template;\n  }\n}\n\nfunction loadData(payload) {\n  refs.input.value = payload.email;\n  refs.text.value = payload.massage;\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","input","text","button","$945622fd0f572e60$var$template","email","massage","$945622fd0f572e60$var$payload","JSON","parse","localStorage","getItem","error","console","log","$945622fd0f572e60$var$fetchData","payload1","value","addEventListener","event","preventDefault","throttle","target","name","setItem","stringify","reset","removeItem"],"version":3,"file":"03-feedback.036a5e61.js.map"}