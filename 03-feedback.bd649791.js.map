{"mappings":"gfAAA,IA2DkBA,EA3DlBC,EAAAC,EAAA,SAEMC,EAAO,CACXC,KAAMC,SAASC,cAAc,QAC7BC,MAAOF,SAASC,cAAc,SAC9BE,KAAMH,SAASC,cAAc,YAC7BG,OAAQJ,SAASC,cAAc,WAI7BI,EAAW,CACbC,MAAO,GACPC,QAAS,IAGPC,EAmCJ,WACE,IACE,OAAOC,KAAKC,MAAMC,aAAaC,QAAQ,yBAA2BP,C,CAClE,MAAOQ,GAEP,OADAC,QAAQC,IAAK,mBACNV,C,EAxCGW,GA4CIrB,EA3CTa,EA4CPV,EAAKI,MAAMe,MAAQtB,EAAQW,MAC3BR,EAAKK,KAAKc,MAAQtB,EAAQY,QA3C5BT,EAAKC,KAAKmB,iBAAiB,UAAU,SAAAC,GACnCA,EAAMC,gB,IAGRtB,EAAKC,KAAKmB,iBAAiB,QAAStB,EAAAyB,UAcpC,SAAkBF,GAChB,OAAQA,EAAMG,OAAOC,MACnB,IAAK,QACHf,EAAQF,MAAQa,EAAMG,OAAOL,MAC7B,MACF,IAAK,UACHT,EAAQD,QAAUY,EAAMG,OAAOL,MAMnCN,aAAaa,QAAQ,sBAAuBf,KAAKgB,UAAUjB,G,GA1BC,MAE9DV,EAAKM,OAAOc,iBAAiB,SAAS,WACX,KAArBpB,EAAKI,MAAMe,OAAoC,KAApBnB,EAAKK,KAAKc,OAIzCH,QAAQC,IAAK,oBAAoBP,GACjCV,EAAKC,KAAK2B,QACVlB,EAAQF,MAAQ,GAChBE,EAAQD,QAAU,GAClBI,aAAagB,WAAW,wBAPtBb,QAAQC,IAAI,4B","sources":["src/js/03-feedback.js"],"sourcesContent":["const lodash = require('lodash');\n\nconst refs = {\n  form: document.querySelector('form'),\n  input: document.querySelector('input'),\n  text: document.querySelector('textarea'),\n  button: document.querySelector('button'),\n};\n// console.log(refs);\n\nlet template = {\n  email: '',\n  massage: '',\n};\n\nlet payload = fetchData();\nloadData(payload);\n\nrefs.form.addEventListener('submit', event => {\n  event.preventDefault();\n});\n\nrefs.form.addEventListener('input', lodash.throttle(pushData, 500));\n\nrefs.button.addEventListener('click', () => {\n  if (refs.input.value === '' || refs.text.value === '') {\n    console.log('all fields must be filled');\n    return;\n  }\n  console.log(`you send payload:`, payload);\n  refs.form.reset();\n  payload.email = '';\n  payload.massage = '';\n  localStorage.removeItem('feedback-form-state');\n});\n\nfunction pushData(event) {\n  switch (event.target.name) {\n    case 'email':\n      payload.email = event.target.value;\n      break;\n    case 'message':\n      payload.massage = event.target.value;\n      break;\n\n    default:\n      break;\n  }\n  localStorage.setItem('feedback-form-state', JSON.stringify(payload));\n}\nfunction fetchData() {\n  try {\n    return JSON.parse(localStorage.getItem('feedback-form-state')) || template;\n  } catch (error) {\n    console.log(`can't load data`);\n    return template;\n  }\n}\n\nfunction loadData(payload) {\n  refs.input.value = payload.email;\n  refs.text.value = payload.massage;\n}\n"],"names":["payload1","$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","form","document","querySelector","input","text","button","$b00c40859be242c5$var$template","email","massage","$b00c40859be242c5$var$payload","JSON","parse","localStorage","getItem","error","console","log","$b00c40859be242c5$var$fetchData","value","addEventListener","event","preventDefault","throttle","target","name","setItem","stringify","reset","removeItem"],"version":3,"file":"03-feedback.bd649791.js.map"}